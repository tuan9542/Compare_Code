function contruct_227() {
        $.get('/Requests/GetAllRequestDetails', { id: CL.Id }, function (respone) {
            var dataHandsontable = [];

            dataHandsontable = respone;
            var strChiTietLoi = [];
            $.each(dataHandsontable, function(index, item){
                strChiTietLoi.push(item.ChiTietLoi);
                item.ChiTietLoi.replace(/\n|\r/g, '<br />')
            });
            
            var content = $('.message-content p')[0].outerHTML;
            content = content.replace('{ChiTietLoi}', strChiTietLoi.join(','));
            $('.message-content p')[0].outerHTML = content;

            var setting = function () {
                return {
                    data: dataHandsontable,
                    allowInsertColumn: false,
                    allowRemoveColumn: false,
                    autoColumnSize: true,
                    autoWrapCol: true,
                    columnSorting: false,
                    //colWidths: 'undefined',
                    currentColClassName: 'currentCol',
                    fixedColumnsLeft: 0,
                    manualColumnMove: false,
                    manualColumnResize: true,
                    viewportColumnRenderingOffset: 8,
                    sortIndicator: true,
                    //================================Rows=======
                    autoWrapRow: true,
                    copyRowsLimit: 1000,
                    currentRowClassName: 'currentRow',
                    fixedRowsTop: 0,
                    manualRowMove: false,
                    manualRowResize: true,
                    rowHeaders: true,
                    minRows: 1,
                    allowInvalid: false,
                    stretchH: 'all',
                    commentedCellClassName: 'htCommentCell',
                    comments: true,
                    contextMenu: true,
                    copyable: true,
                    customBorders: false,
                    debug: false,
                    disableVisualSelection: true,
                    enterBeginsEditingBoolean: true,
                    fillHandle: true,
                    outsideClickDeselects: true,
                    fragmentSelection: false,
                    groups: false,
                    invalidCellClassName: 'htInvalid',
                    mergeCells: false,
                    multiSelect: true,
                    noWordWrapClassName: 'htNoWrap',
                    placeholder: false,
                    placeholderCellClassName: 'htPlaceholder',
                    readOnlyCellClassName: 'htDimmed',
                    search: false,
                    trimWhitespace: true,
                    undo: true,
                    formulas: true,
                    wordWrap: true,
                    colHeaders:
                        [
                            'STT',
                            'Tên Shop',
                            'Nhân viên làm hồ sơ',
                            'Số hợp đồng',
                            'Số SO',
                            'Ngày xuất SO',
                            'Họ tên KH',
                            'Tên sản phẩm',
                            'Số tiền SO',    
                            //'Số lần',
                            'Thông tin cần bổ sung',
                            'Ngày ghi nhận lỗi'
                        ],
                    columns: [
                        { data: "STT", type: 'text', width: 50, readOnly: true },
                        { data: "DiaChiShop", type: 'text', width: 250, readOnly: true },
                        { data: "NhanVienLamHoSo", type: 'text', width: 200, readOnly: true },
                        { data: "SoHopDong", type: 'text', width: 150, readOnly: true },
                        { data: "SoDonHang", type: 'text', width: 100, readOnly: true },
                        { data: "NgayXuatHoaDon", type: 'text', width: 100, readOnly: true },
                        { data: "HoTenKH", type: 'text', width: 180, readOnly: true },
                        { data: "TenSanPham", type: 'text', width: 250, readOnly: true },
                        { data: "SoTienSO", type: 'text', width: 100, readOnly: true },
                        //{ data: "SoLan", type: 'text', width: 100, readOnly: true },
                        { data: "ChiTietLoi", type: 'text', width: 250, readOnly: true },
                        { data: "NgayGhiNhanLoi", type: 'text', width: 120, readOnly: true },
                    ],
                };
            }

            hot = new Handsontable(container, setting());
            hot.render();

            //$btnComment.on('click', function () {
            //    var myDataCc = hotCc == undefined ? "" : $.grep(hotCc.getSettings().data, function (item, index) {
            //        return item.id != undefined && item.id != '' && item.id != null && item.id != 0 && (item.type == 'Cc' || item.type == 'GroupMail' || item.type == 'Group Mail Cc');
            //    });

            //    var message = $("#Message").val();
            //    if (message.length == 0) {
            //        XFunction.RenderMessage("error", "Trao đổi phải nhập tin nhắn :(");
            //        return false;
            //    } else {
            //        $('#myModalWatting').modal('show');
            //        $('#Details').val(JSON.stringify([]));
            //        $('#DetailsCc').val(JSON.stringify(myDataCc));
            //        var form = $("form#form-detail");
            //        form.attr("action", "/Requests/Conversation");
            //        form.submit();
            //    }
            //});

        });
    };